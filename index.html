
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kamranicus</title>
  <meta name="author" content="Kamran">

  
  <meta name="description" content="Kamranicus
Personal and development blog of Kamran Ayub about me Hi, my name is Kamran. I am a web developer and designer, residing in Minnesota. I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kamranicus.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/Kamranicus" rel="alternate" title="Kamranicus" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1203259-13']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

  <body>
    <a href="/" class="home-icon">
      <img src="/images/home.png"/>
    </a>

    <div class="home-page">
  <div class="hero">
    <h1>Kamranicus</h1>
<p>Personal and development blog of Kamran Ayub</p>

  </div>

  <div class="home-field">
    <div class="home-landing her-row">
      <div class="container">
        <div class="row">
          <div id="about-me" class="col-md-offset-3 col-md-6">
  <h4>about me</h4>
  <p>Hi, my name is Kamran. I am a web developer and designer,  residing in Minnesota. I&#8217;ve been programming since 2001 and  I am familiar with many different languages, both web-based  and server-based. I love to tinker around and think of new  ways to solve problems.
</p>
  <div class="social-icon-list">
  	
    <a title="Twitter" href="https://twitter.com/kamranayub"><img src="/images/glyphicons_social_31_twitter.png"/></a>
    
    
    <a title="GitHub" href="https://github.com/kamranayub"><img src="/images/glyphicons_social_21_github.png"/></a>
    
    
    
  </div>
</div>

        </div>
      </div>
    </div>

    <div class="article-list">
      <div class="container">
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2017/01/11/azure-alerts-zapier-sms/">Site Down Alerts Using Azure App Insights and Zapier</a></h2>
  
  <p>
    <p>It&rsquo;s <a href="https://twitter.com/jordan_belinsky/status/818967360132513792">happened again</a>. Even though I <em>do</em> get emailed whenever <a href="http://ktomg.com">KTOMG</a> goes down, I don&rsquo;t pay attention to my email 24/7 and the site can be down for a bit until I realize it. In this case, I was cooking and wasn&rsquo;t at my computer or on my phone. The Twitter notification by a friendly user actually got me to check!</p>




<p>I know this is one of the headaches <a href="https://kamranicus.com/blog/2016/10/18/ravendb-standard-non-commercial-license/">I willingly signed up for</a> by moving to my own VM&mdash;and even though I get emailed when the site&rsquo;s down I hate not knowing that <strong>immediately</strong>.</p>




  </p>
  <span class="meta">
    written 








  



<time datetime="2017-01-11T02:01:00+00:00" pubdate data-updated="true">Jan 11<span>th</span>, 2017</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/azure/'>Azure</a>, <a class='category' href='/blog/categories/cloud/'>Cloud</a>, <a class='category' href='/blog/categories/devops/'>DevOps</a>
  
</span>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2017/01/11/azure-alerts-zapier-sms/">Read on &rarr;</a>
  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2017/01/03/year-in-review/">2016: A Year in Review</a></h2>
  
  <p>
    <p>Another year has passed and it&rsquo;s time to take a look back and see what I accomplished!</p>




<h2>Open Source</h2>




<p>It&rsquo;s been a busy year in open source for me with over 1100+ contributions, let&rsquo;s see&hellip;</p>




<p><img src="https://cloud.githubusercontent.com/assets/563819/21598070/22a0d308-d11b-11e6-8c8a-2eeef49ae568.png" alt="2016 contributions" /></p>




<ul>
<li><a href="https://github.com/excaliburjs/Excalibur"><strong>excalibur.js</strong></a>: Excalibur remains one of the largest OSS projects I help maintain. I redesigned the <a href="http://excaliburjs.com">Excalibur.js website</a>. I made
about <a href="https://github.com/excaliburjs/Excalibur/pulls?page=2&amp;q=is%3Apr+is%3Aclosed+author%3Akamranayub">49 pull requests</a>
to the codebase. We made 4 releases, bringing us from 0.6 to 0.8 (over 177 issues closed!).</li>
<li><a href="https://github.com/TypeStrong/typedoc"><strong>TypeDoc</strong></a>: This was a close one, last month I <a href="https://github.com/TypeStrong/typedoc/pull/365">submitted a PR</a> to support TypeScript 2.1.4.</li>
<li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/"><strong>DefinitelyTyped</strong></a>: Made <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/pull/13169">my first PR</a> to DefinitelyTyped even though I&rsquo;ve made tons of private declaration files for my projects.</li>
<li><a href="https://github.com/kamranayub/UnderscoreKO"><strong>UnderscoreKO</strong></a>: Updated for Underscore 1.8</li>
<li><a href="https://github.com/kamranayub/posh-openweathermap"><strong>PoshOpenWeatherMap</strong></a>: I made a fun little weather Powershell module.</li>
<li><a href="https://github.com/kamranayub/cassette-sri"><strong>cassette-sri</strong></a>: I needed <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">Subresource Integrity</a> support for KTOMG, so I published an extension to Cassette.</li>
</ul>




<h2>New Tech</h2>




<p>I definitely enjoy learning new things and playing with tech.</p>




<ul>
<li>Played with <a href="http://kamranicus.com/blog/2016/02/24/azure-key-vault-config-encryption-azure/">Azure Key Vault</a></li>
<li>Dabbled in some <a href="https://github.com/eonarheim/aspnet-core-demogame">ASP.NET Core</a></li>
<li>At work I dove deep into Powershell DSC and JFrog Artifactory</li>
<li>I set up equipment for my course recording: <a href="https://www.amazon.com/gp/product/B008O517IC">Behringer XENYX Q802USB Mixer</a>, <a href="https://www.amazon.com/Audio-Technica-ATR2100-USB-Cardioid-Dynamic-Microphone/dp/B004QJOZS4">ATR2100 Microphone</a></li>
<li>I got a Raspberry Pi 3 for Christmas and made it into an emulation console using <a href="http://lakka.tv">Lakka</a></li>
</ul>




<h2>Gaming</h2>




<p>Making and playing games remains one of my passions, that much is clear:</p>




<ul>
<li><a href="http://ktomg.com"><strong>Keep Track of My Games</strong></a>: I <a href="http://blog.keeptrackofmygames.com/tagged/updates">released 10 updates</a> to KTOMG last year, some of the biggest ones so far, adding tons of major new features.</li>
<li>I <a href="http://kamranicus.com/blog/2016/05/08/ludum-dare-35-game-jam/">participated</a> in the Ludum Dare 35 game jam with the game <a href="http://excaliburjs.com/ludum-35/">Hex Shaper</a>.</li>
<li>Me and <a href="http://erikonarheim.com">Erik Onarheim</a> made a <a href="http://kamranicus.com/blog/2016/07/31/aspnet-core-demo-game/">ASP.NET Core demo game</a> for a work code camp</li>
<li>We also made a <a href="http://kamranicus.com/blog/2016/01/25/planet-wars-ai-competition-excaliburjs-csharp/">Planet Wars AI simulator</a> in Excalibur for a work competition</li>
<li>I&rsquo;ve been working on a (currently private) sample game for Excalibur, it will be used as a the primary learning sample for new users.</li>
<li>I <a href="https://keeptrackofmygames.com/users/kamranicus/lists/Playing">played some games</a></li>
</ul>




<h2>Speaking &amp; Conferences</h2>




<p>I gave some talks and went to conferences! I spread the TypeScript love.</p>




<ul>
<li><a href="http://midwestjs.com/"><strong>Midwest.js</strong></a>: I gave a presentation on <a href="http://kamranicus.com/presentations/demystifying-typescript/#/">Demystifying TypeScript</a> at Midwest.js in August this year. It was a lot of fun,
but the recording still isn&rsquo;t up on YouTube yet.</li>
<li><a href="http://twincitiescodecamp.com"><strong>TCCC20</strong></a>: I gave a presentation on <a href="https://www.youtube.com/watch?v=eeh-FcC6Sew">TypeScript in Action</a> at Twin Cities Code Camp 20 in April.</li>
<li><a href="http://build.microsoft.com"><strong>MS Build</strong></a>: I <a href="http://kamranicus.com/blog/2016/03/11/attending-build-2016/">attended</a> Microsoft Build 2016 with my coworkers. It was a blast.</li>
</ul>




<h2>Publishing</h2>




<p>I want to try and commit to beating 2016&rsquo;s blog post count:</p>




<ul>
<li>I <a href="http://kamranicus.com/blog/archives/">published 16 blog posts</a> in 2016.</li>
<li>I <a href="http://kamranicus.com/blog/2016/10/30/new-packt-publishing-typescript-course/">accepted a contract</a> to make an Introduction to TypeScript video course with Packt Publishing.</li>
</ul>




<h2>Life</h2>




<ul>
<li>My wife and I are expecting our first child in February! I&rsquo;m sure this will definitely affect how much time I get to spend on side projects so developing some kind of rhythm will be key.</li>
</ul>




<p>I&rsquo;m sure there&rsquo;s other stuff I&rsquo;m forgetting&mdash;but I&rsquo;m super proud of all the stuff I got done this year. Here&rsquo;s looking forward
to 2017 as a new father!</p>


  </p>
  <span class="meta">
    written 








  



<time datetime="2017-01-03T00:32:00+00:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2017</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/accomplishments/'>Accomplishments</a>, <a class='category' href='/blog/categories/life/'>Life</a>, <a class='category' href='/blog/categories/year-in-review/'>Year in Review</a>
  
</span>


  </span>

  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/10/30/new-packt-publishing-typescript-course/">Working With Packt Publishing to Create a TypeScript Video Course</a></h2>
  
  <p>
    <p><img src="https://cloud.githubusercontent.com/assets/563819/19837411/1ccc4910-9e87-11e6-8d0a-7d5b17711785.png" alt="Packt" /></p>




<p>I have some great news to share! Last week I signed on the dotted line to publish a TypeScript course for <a href="http://packtpub.com">Packt Publishing</a>. I&rsquo;m very excited for this opportunity&mdash;as you know, I&rsquo;m a big fan of TypeScript and <a href="http://kamranicus.com/presentations">I talk about it a lot</a>. This is the first video course I&rsquo;ll have worked on though I&rsquo;m no stranger to screencasts. I&rsquo;m pretty pumped and I think I have some good material to share.</p>




<p>I hope to share more about the recording process as I dive into it&mdash;the first order of business is rigging up all the recording equipment that is sitting in my basement collecting dust and testing it. I already have a recording mic, shock mount, and preamp, for example. They are years old now so I may need to get some new equipment but I&rsquo;m crossing my fingers that most of it will produce a good sound. My Sound Blaster X-Fi Elite Pro that I bought years ago is only half-working&mdash;it seems like it&rsquo;ll output sound for a bit and then crap out, but I&rsquo;m hoping that is only limited to output and that it can still record input. The X-Fi external box supports some of the standard audio plugs I&rsquo;d prefer using. It may end up I&rsquo;ll have to go entirely USB, we&rsquo;ll see.</p>




<p>The course should be ready by mid-February and will be geared towards introducing people to TypeScript. I plan to use practical code to introduce concepts and the final volume of the course should have 2-3 small projects we&rsquo;ll build from scratch.</p>


  </p>
  <span class="meta">
    written 








  



<time datetime="2016-10-30T15:45:00+00:00" pubdate data-updated="true">Oct 30<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/courses/'>Courses</a>, <a class='category' href='/blog/categories/publishing/'>Publishing</a>, <a class='category' href='/blog/categories/recording/'>Recording</a>, <a class='category' href='/blog/categories/typescript/'>TypeScript</a>
  
</span>


  </span>

  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/10/18/ravendb-standard-non-commercial-license/">Thoughts on Upgrading to a Dedicated Raven Standard Instance</a></h2>
  
  <p>
    <p>As you may know, I use the NoSQL RavenDB database to power my hobby project <a href="http://ktomg.com">Keep Track of My Games</a>. I really like the development workflow and the way it has simplified a lot of my data access logic. Right now I use the hosted <a href="http://ravenhq.com">RavenHQ</a> solution for my two databases (staging and production). I&rsquo;ve been doing that for some time now for a few reasons:</p>




<ul>
<li>The regular yearly Standard RavenDB subscription of $700 is a bit much for a hobby project</li>
<li>I realized too late you could pay quarterly/one-time. One-time licenses only grant upgrades for 18 months and since major version upgrades seem to happen beyond that window, it is hard to justify even the one-time payment long term.</li>
<li>The Basic/Basic 2X pricing would have been perfect except the 2GB database size limit was a dealbreaker. Additionally, I&rsquo;d still need to add that monthy cost to the monthly cost of a VM.</li>
<li>When I started with HQ the price was low enough to warrant the latency. Now though, the $10/1GB overage is getting to me especially with the two replicated instances BOTH incurring the $10/1GB extra each.</li>
</ul>




<h2>The Cloud is Expensive and Slow [for Me]</h2>




<p>This last week though, I decided to see if I could figure out how to lower my database hosting costs and the number one way to do that was to get a Standard license and manage my own VM.</p>




<p>The hard truth is that PaaS offers awesome managed services and convenience but you pay (out the nose) for that convenience and often performance comes at a high cost so you&rsquo;re stuck with the smallest possible pricing tier otherwise your costs double and triple easily. When you want to save money, you need to go IaaS but even the major cloud platforms like Azure, AWS, and Google aren&rsquo;t super affordable for a hobby project <em>when you want performance</em>. Anything above 1 core on most cloud platforms is a minimum of about $100. You can&rsquo;t really expect to run Raven on a single core, 1GB machine&mdash;you need <em>some</em> metal.</p>




<h2>I Can Do It Myself</h2>




<p>Enter <a href="http://vultr.com">Vultr.com</a>. Have a look at <a href="https://www.vultr.com/pricing/">their pricing</a> for a second and then come back&hellip;</p>




<p>&hellip;</p>




<p>Back? <strong>I KNOW, RIGHT?!</strong></p>




<p>I discovered Vultr from reading <a href="https://weblog.west-wind.com/posts/2015/Feb/01/Azure-VM-Blues-Fighting-a-losing-Performance-Battle">Rick Strahl&rsquo;s woes on Azure VM performance</a> (see a pattern?) and he switched to Vultr VMs and was a happy camper. I have a 2 Core, 2GB VM spun up right now and I&rsquo;m not even hosting my site/DB yet but it still feels way faster than an Azure VM.</p>




<p>If I could find a way to get a Standard Raven license I could move all my stuff over to much cheaper infrastructure and get 2-3x the performance for less price. Yes, I may sacrifice some high availability and it will be more management overhead but managing web sites is what I do and I know how to monitor them plus even if I got a $36 2 Core 2GB web instance AND a $56 4 Core 4GB DB instance it would <strong>still be cheaper than my current hosting cost that has way less performance.</strong> Not to mention I could migrate over to .NET Core-based site and host on an even cheaper Linux VM. Raven 4 will also be able to run on Linux. That is some nice cost cutting!</p>




<h2>The Magic Non-Commercial License</h2>




<p>So I had to pony up $1000 for a Standard license if I wanted to pay it forward and reduce my long-term hosting cost. It&rsquo;s hard enough to justify this to myself let alone to my wife! Yes, I&rsquo;ve paid more than that overall so far but that&rsquo;s a sunk cost&mdash;it&rsquo;s tough to pay a lump sum like that all at once. I was willing to swallow that pill after a month or two of saving up.</p>




<p>But, I wondered if there was <strong>some other way</strong>. I kept thinking that I&rsquo;m not making money from KTOMG, I wish that would count as an OSS license.</p>




<p>So I went back to the RavenDB pricing page. At the bottom it says &ldquo;Open Source? Apply&rdquo;. This is great&mdash;I love it when awesome products like Resharper, RavenDB, and others are free for OSS projects. The issue is that KTOMG is <em>not</em> an OSS project. It&rsquo;s non-commercial, but it&rsquo;s not OSS. So obviously I initially ignored the offer years ago to apply for an OSS license.</p>




<p>I decided to Google more about RavenDB licensing&mdash;OSS projects can use it under AGPL but everyone else needs a commercial license, right? Well, yes&hellip; but:</p>




<blockquote><p><strong>NC:</strong>
Blah I hate OSS, I don&rsquo;t understand all this stuff. I mean if i create a community site thats not designed to make money other than advertising to cover server costs. I don&rsquo;t want to make my site open source to use OSS, does that mean I have to pay for a commercial license?</p>

<p><strong>Ayende:</strong>
Yes.
<strong>Or, for your scenario, you could contact us and ask for a freebie license in return for something like a &ldquo;Powered by RavenDB&rdquo; logo.</strong></p></blockquote>




<p>This was <a href="https://ayende.com/blog/4508/comments-on-ravendb-licensing">in the comments</a> on Ayende&rsquo;s blog post on RavenDB licensing.</p>




<h2>Whaaaaat?!</h2>




<p>It turns out that if you ask nicely and have a truly non-commercial project, you may qualify for a &ldquo;freebie&rdquo; license in exchange for some free press or a watermark (I filled out a testimonial and shared my thoughts with the team). I wish I knew that 3 years ago! I would have done that from the beginning had I known it was a possibility&mdash;and I bet more people out there like me didn&rsquo;t know it was a possibility. How could they? The pricing page doesn&rsquo;t mention this at all. It could be that they <em>don&rsquo;t</em> want to advertise it as more people would ask&mdash;but I think that&rsquo;s a good thing.</p>




<p>It&rsquo;s true that RavenHQ was able to extract money out of me for awhile and that benefited them&mdash;but it wasn&rsquo;t going to sustain itself. My options were to: a) fork out for a Standard license in which I pay once or b) explore other options like <a href="http://jasperfx.github.io/marten/">Marten for PostgreSQL</a>. There may be reasons people would move to Postgres and all that but I <em>am</em> comfortable with Raven and what it gives me so I&rsquo;m not exactly looking to migrate all my data access code (again) to another provider. That isn&rsquo;t value-added work to me, I want to focus on releasing features!</p>




<p>I think that the more folks that use Raven, the more word will spread around. If people are <em>not</em> using Raven because they think they have to pay $700/yr out-of-pocket for a non-commercial project, they could be attracted back if they knew they were still able to harness the power of Raven with a free non-commercial license. Perhaps not everyone will want to manage their own VM but people like me working on fun projects that want a robust NoSQL database for .NET would jump at the chance.</p>




<p>If anyone at Hibernating Rhino&rsquo;s is reading this, consider adding the non-commercial license as an &ldquo;official&rdquo; available license like OSS. It might be good for business!</p>


  </p>
  <span class="meta">
    written 








  



<time datetime="2016-10-18T00:11:00+00:00" pubdate data-updated="true">Oct 18<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/databases/'>Databases</a>, <a class='category' href='/blog/categories/keep-track-of-my-games/'>Keep Track of My Games</a>, <a class='category' href='/blog/categories/ravendb/'>RavenDB</a>
  
</span>


  </span>

  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/08/17/posh-pester-extend-custom-assertions/">Extending PowerShell Pester With Custom Assertions</a></h2>
  
  <p>
    <p>After the initial release of <a href="http://kamranicus.com/blog/2016/08/12/posh-openweathermap-powershell-module/">my OpenWeatherMap PowerShell module</a> I decided it might be a good idea to write some tests. This was my first time using <a href="https://github.com/pester/Pester">Pester</a>, a BDD-style testing framework for PowerShell. Coming from <a href="http://jasmine.github.io/">Jasmine</a> Javascript unit testing, I felt right at home.</p>




  </p>
  <span class="meta">
    written 








  



<time datetime="2016-08-17T02:10:00+00:00" pubdate data-updated="true">Aug 17<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/oss/'>OSS</a>, <a class='category' href='/blog/categories/powershell/'>PowerShell</a>, <a class='category' href='/blog/categories/testing/'>Testing</a>
  
</span>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2016/08/17/posh-pester-extend-custom-assertions/">Read on &rarr;</a>
  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/08/12/posh-openweathermap-powershell-module/">OpenWeatherMap PowerShell Module</a></h2>
  
  <p>
    <p>There&rsquo;s no better to way to learn something new than to make a thing. Yesterday I had a strong desire to know what the weather was like from my command prompt. I can&rsquo;t explain it&mdash;I just had to and I thought, &ldquo;Hey, it can&rsquo;t be that bad, right?&rdquo; I decided to try writing and releasing an open-source PowerShell module.</p>




  </p>
  <span class="meta">
    written 








  



<time datetime="2016-08-12T00:15:00+00:00" pubdate data-updated="true">Aug 12<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/oss/'>OSS</a>, <a class='category' href='/blog/categories/powershell/'>PowerShell</a>
  
</span>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2016/08/12/posh-openweathermap-powershell-module/">Read on &rarr;</a>
  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/08/12/midwestjs-demystifying-typescript/">Demystifying TypeScript at Midwest.js</a></h2>
  
  <p>
    <p>Today I was excited to give a talk at <a href="http://midwestjs.com">Midwest.js</a> about <a href="http://kamranicus.com/presentations/demystifying-typescript">Demystifying TypeScript</a>. This is not the first time I&rsquo;ve given the talk, it&rsquo;s actually the <strong>fourth</strong> time. Instead of leaving it stale I revamped the theme and updated all the information to be current as of today&mdash;including information about <a href="https://babeljs.io/">Babel.js</a> and <a href="https://flowtype.org/">Flow</a>.</p>




<p>Unfortunately due to technical difficulties (no HDMI-to-DisplayPort adapter!) the talk&rsquo;s <em>video</em> wasn&rsquo;t recorded. However, I was mic&rsquo;d and I did use SnagIt to record my screen, so we&rsquo;re hoping we can merge the audio and video tracks to generate a recording. If not, I may need to sit down and record audio for the talk.</p>




<p>I will update this post after the conference and let you know the status&mdash;let&rsquo;s hope we can get it working! Otherwise, I guess you just had to be there ;)</p>




<p>If you attended and have questions, feel free to leave them here or <a href="http://twitter.com/kamranayub">tweet</a> at me!</p>


  </p>
  <span class="meta">
    written 








  



<time datetime="2016-08-12T00:09:00+00:00" pubdate data-updated="true">Aug 12<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/conferences/'>Conferences</a>, <a class='category' href='/blog/categories/javascript/'>Javascript</a>, <a class='category' href='/blog/categories/talks/'>Talks</a>, <a class='category' href='/blog/categories/typescript/'>TypeScript</a>
  
</span>


  </span>

  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/07/31/aspnet-core-demo-game/">ASP.NET Core Sample Demo Game</a></h2>
  
  <p>
    <p>At General Mills we do semi-annual code camps where the developer organization gets together for a half-day of talks and fun. This past code camp myself and my partner in crime, <a href="http://twitter.com/erikonarheim">Erik Onarheim</a> gave a talk around ASP.NET Core. It&rsquo;s part of our roadmap to be familiar with hosting ASP.NET Core so we wanted to build something and showcase to developers what&rsquo;s changed in Core vs. the typical Framework application.</p>




<p>We made a trivial demo game built on top of SignalR and .NET Core while also showing off other new features of the stack, including:</p>




<ul>
<li>Depdendency Injection</li>
<li>Custom Tag Helpers</li>
<li>Cascading Configuration</li>
<li>Multi-Environment Support</li>
<li>Strongly-Typed Options</li>
<li>Injecting Services into Views</li>
<li>Injected MVC Filters</li>
<li>Bundling &amp; Minification</li>
<li>Publishing to Azure</li>
</ul>




<p>We had the demo running on Azure during the talk so people could join the game and we even attempted showing Linux support, though web sockets were not behaving nicely behind nginx. The game is not really a game but more of a showcase of using web sockets to allow some real-time multiplayer server action. It is definitely <em>not</em> how you&rsquo;d implement a &ldquo;real&rdquo; multiplayer game but it&rsquo;s a fun demo.</p>




<p>You can check out the source code on GitHub: <a href="https://github.com/eonarheim/aspnet-core-demogame">https://github.com/eonarheim/aspnet-core-demogame</a>. It&rsquo;s commented pretty heavily to help understand the different parts, it&rsquo;s based on the default out-of-the-box web template (<code>dotnet new -t web</code>).</p>




<p>We may or may not upload the talk onto YouTube since there wasn&rsquo;t really anything specific about our work until the very end, which we can strip out without losing any important bits.</p>


  </p>
  <span class="meta">
    written 








  



<time datetime="2016-07-31T18:05:00+00:00" pubdate data-updated="true">Jul 31<span>st</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/dot-net-core/'>.NET Core</a>, <a class='category' href='/blog/categories/asp-dot-net/'>ASP.NET</a>, <a class='category' href='/blog/categories/c-number/'>C#</a>, <a class='category' href='/blog/categories/mvc/'>MVC</a>, <a class='category' href='/blog/categories/signalr/'>SignalR</a>
  
</span>


  </span>

  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/05/08/cassette-subresource-integrity-sri/">Adding Subresource Integrity Support to Cassette .NET</a></h2>
  
  <p>
    <p>If you aren&rsquo;t familiar with <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">Subresource Integrity</a>, it&rsquo;s a browser-based security measure to protect embedded content like scripts and stylesheets using a file content hash to help protect against XSS attacks.</p>




<p>For example, let&rsquo;s say you&rsquo;re including a script from a CDN:</p>




<pre><code>&lt;script src="https://mycdn.com/jquery/1.0/jquery.js"&gt;&lt;/script&gt;
</code></pre>




<p>Then let&rsquo;s say the CDN is compromised and instead of returning jquery, the script returns some malicious code that could compromise your site. Even if you&rsquo;re using Content Security Policy (CSP), you won&rsquo;t be protected because you whitelisted the CDN.</p>




<p>Subresource Integrity allows you to put a hash of the file&rsquo;s contents in an attribute of the tag. The browser will then hash the contents of the response from the CDN and compare it against the attribute provided. If the hashes don&rsquo;t match, the browser won&rsquo;t include the response and will throw an error.</p>




<pre><code>&lt;script src="https://mycdn.com/jquery/1.0/jquery.js" integrity="sha256-hfhsh02929fhgh303yg"&gt;&lt;/script&gt;
</code></pre>




<h2>Integrating with Cassette</h2>




<p>I use <a href="http://getcassette.net">Cassette</a> to perform my bundling/minification and I also <a href="http://kamranicus.com/blog/2015/10/10/azure-cdn-cassette/">host my assets on a CDN</a>. Even though they are my own assets, I still want to ensure they are served securely and take advantage of SRI.</p>




<p>For third-party scripts, it is fairly easy to take advantage of SRI by <a href="https://srihash.org/">hashing the contents online</a> and customizing the CDN reference in Cassette:</p>




<pre><code>bundles.AddUrl("http://mycdn.com/jquery/1.0/jquery.js", bundle =&gt;
    bundle.HtmlAttributes.Add("integrity", "sha256-jquerysfilehash"));
</code></pre>




<p>But since my <em>own</em> files are dynamic, how can we still leverage Cassette <em>and</em> automatically hash the file contents when outputting to the page?</p>




<p>Luckily, Cassette is pretty extensible and includes a way to <a href="http://getcassette.net/documentation/v2/bundle-pipelines">customize the bundle pipeline</a>. So what we can do is essentially override the rendering of the HTML and add the <code>integrity</code> tag to the output.</p>




<p>To make this easy, I&rsquo;ve created an open source Nuget package called <a href="https://github.com/kamranayub/cassette-sri">Cassette.SubresourceIntegrity</a>. All you do is install the package and <strong>that&rsquo;s it.</strong> Since Cassette automatically scans for bundle customizations, all I did was implement a class <code>InsertIntoPipelineSubresourceIntegrity</code> and modify the pipeline to replace a couple parts with SRI-aware code.</p>




<p>The meat of the change is this code here:</p>




<pre><code>string integrity;

using (var stream = asset.OpenStream())
{
    using (var sha256 = SHA256.Create())
    {
        integrity = $"integrity=\"sha256-{Convert.ToBase64String(sha256.ComputeHash(stream))}\"";
    }
}

return $"&lt;script src=\"{_urlGenerator.CreateAssetUrl(asset)}\" " +
       $"type=\"text/javascript\" " +
       $"{integrity}{bundle.HtmlAttributes.ToAttributeString()}&gt;&lt;/script&gt;";
</code></pre>




<p>I am just getting the asset stream and hashing the contents using SHA256, then adding the attribute to the output. You&rsquo;ll notice that the <strong>URLs are not changed</strong>, so Cassette will continue to use SHA1 hashes internally. It&rsquo;s <em>only when rendering</em> we use SHA256 because that&rsquo;s the only place we need it.</p>




<p>While the code is interesting, it&rsquo;s nothing too crazy&mdash;in fact, most of the code required is because Cassette doesn&rsquo;t expose certain needed classes used in the rendering pipeline so I had to basically copy/paste a lot of the helper classes.</p>




<h2>The end result</h2>




<p>Now Cassette will automatically include SRI hashes for individual assets:</p>




<pre><code>&lt;link href="cassette.axd/asset/Content/bootstrap/bootstrap-ext.css?cabc6264a89106c4b9021c293cfa5c2cae7a0549" 
    integrity="sha256-sNfA6O5zvZPmMJ474pm2w6UyZbz5tfukxTEZXrsLm7Q=" type="text/css" rel="stylesheet"/&gt;
&lt;link href="cassette.axd/asset/Content/modules/typeahead.css?00581b47ff3848da273d91c31adb8270e9ef8707" 
    integrity="sha256-W6JAiwRw2ER1QoXjXL/YxsY/On1Y7MhW4TtoWY0XuH8=" type="text/css" rel="stylesheet"/&gt;
&lt;link href="cassette.axd/asset/Content/modules/toastr.css?32e90a136e05728ac23995ff8fe33077df9f50ca" 
    integrity="sha256-JT6UwDlczdRDx+9mnMCzvxwABJP0cSDgNLmT+WumJrQ=" type="text/css" rel="stylesheet"/&gt;
&lt;link href="cassette.axd/asset/Content/hopscotch/hopscotch.css?58ea04e54df958c33cf9e6bfed9f39a166354e9c" 
    integrity="sha256-Bq06LI6L0XMhxF+CoJo+4L12w2Orsbh2oRjOZ+fpmWc=" type="text/css" rel="stylesheet"/&gt;
&lt;link href="cassette.axd/asset/Content/core.css?a3b4fcb8b7d9b0e8465a4fea29d60247ea47fd87" 
    integrity="sha256-fAqyFLkOx1cFONu7NXX3c7/G1DSmXeHgtPtcWU72a4E=" type="text/css" rel="stylesheet"/&gt;
&lt;link href="cassette.axd/asset/Content/library.css?2c2746a086737dc588e313c0cc2c5adf8b947605" 
    integrity="sha256-SaP9kdYfbafIVes+qntAiDLPsi4JaXnit4eN6IfU9lA=" type="text/css" rel="stylesheet"/&gt;
</code></pre>




<p><em>and</em> bundles:</p>




<pre><code>&lt;link href="cassette.axd/stylesheet/ba58f2a04873e41b6a599274ea6768db1a61a650/Content/core" 
    integrity="sha256-thzkrIApz9dAI9nfJGleO1jbNFXXVT/BxoSynI2pEPw=" type="text/css" rel="stylesheet"/&gt;
&lt;link href="cassette.axd/stylesheet/2c2746a086737dc588e313c0cc2c5adf8b947605/Content/library.css" 
    integrity="sha256-6LgYbxu4UwouRBqvUdHZAQc0lewdik6aZYpDgrtAWJ4=" type="text/css" rel="stylesheet"/&gt;
</code></pre>




<p>Voila!</p>


  </p>
  <span class="meta">
    written 








  



<time datetime="2016-05-08T05:13:00+00:00" pubdate data-updated="true">May 8<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/c-number/'>C#</a>, <a class='category' href='/blog/categories/nuget/'>Nuget</a>, <a class='category' href='/blog/categories/oss/'>OSS</a>, <a class='category' href='/blog/categories/security/'>Security</a>
  
</span>


  </span>

  
</article>

            </div>
          </div>
        
          
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <article>
  <h2><a href="/blog/2016/05/08/ludum-dare-35-game-jam/">Designing Hexshaper, a Game for the Ludum Dare 35 Game Jam</a></h2>
  
  <p>
    <p>This last weekend I took part in the global <a href="http://ludumdare.com">Ludum Dare 35</a> game jam. If you&rsquo;ve been following me for awhile, you know I&rsquo;ve participated in the past too. This time we <a href="http://excaliburjs.com/ludum-35">made a game called Hexshaper</a>&mdash;where the goal is to fly around, absorbing magic to seal portals to another dimension to prevent monsters from overtaking the world. The backstory, while not communicated directly, informed our design&mdash;but it wasn&rsquo;t like that at first.</p>




  </p>
  <span class="meta">
    written 








  



<time datetime="2016-05-08T02:10:00+00:00" pubdate data-updated="true">May 8<span>th</span>, 2016</time>
    

in
<span class="categories">
  
    <a class='category' href='/blog/categories/excalibur-dot-js/'>Excalibur.js</a>, <a class='category' href='/blog/categories/game-jams/'>Game Jams</a>, <a class='category' href='/blog/categories/games/'>Games</a>, <a class='category' href='/blog/categories/javascript/'>Javascript</a>, <a class='category' href='/blog/categories/ludum-dare/'>Ludum Dare</a>, <a class='category' href='/blog/categories/typescript/'>TypeScript</a>
  
</span>


  </span>

  
    <a class="full-article-link pull-right" rel="full-article" href="/blog/2016/05/08/ludum-dare-35-game-jam/">Read on &rarr;</a>
  
</article>

            </div>
          </div>
        
      </div>
    </div>

    <hr class="divider-short"/>

    <div class="archive-link">
      <h3><a href="/blog/archives/">All Posts</a></h3>
    </div>
  </div>
</div>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
  <a href="/"><h4>Home</h4></a>
</div>

<div class="col-md-2">
  <div class="social-icon-list">
    
    <a href="https://twitter.com/kamranayub"><img src="/images/glyphicons_social_31_twitter.png"/></a>
    

    
    <a href="https://github.com/kamranayub"><img src="/images/glyphicons_social_21_github.png"/></a>
    

    

    
  </div>
</div>

<div class="pull-right">
  <h4>Powered by <a href="http://octopress.org/">Octopress</a>. Designed by <a href="http://AdrianArtiles.com">Adrian Artiles</a>.</h4>
</div>


    </div>
  </div>
</footer>

    
  </body>
</html>
