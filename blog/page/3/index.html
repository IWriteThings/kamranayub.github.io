
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kamranicus</title>
  <meta name="author" content="Kamran">

  
  <meta name="description" content="I&rsquo;m excited to talk about my latest project that just went live a couple weeks ago: Centwise. Centwise is a Windows Phone 7 &amp; 8 app client &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kamranicus.com/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/Kamranicus" rel="alternate" title="Kamranicus" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Kreon' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1203259-13']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Kamranicus</a></h1>
  
    <h2>Kamran Ayub is a developer and designer in Minneapolis, Minnesota. He specializes in .NET development with a dash of client-side and is passionate about UX.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/Kamranicus" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=Kamranicus" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:kamranicus.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/67/ive-released-my-first-windows-phone-app-centwise">I&#8217;ve Released My First Windows Phone App: Centwise</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-11T22:47:42-05:00" pubdate data-updated="true">Apr 11<span>th</span>, 2013</time>
        
           | <a href="/blog/posts/67/ive-released-my-first-windows-phone-app-centwise#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/67/ive-released-my-first-windows-phone-app-centwise">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m excited to talk about my latest project that just went live a couple weeks ago: <a href="http://centwiseapp.com">Centwise</a>. Centwise is a Windows Phone 7 &amp; 8 app client for a service that I use regularly, <a href="http://splitwise.com">Splitwise</a>.</p>

<p>You can download the app to your Windows Phone below:</p>

<p><a href="http://bit.ly/getcentwise"><img src="http://media.tumblr.com/410b39b16d0c759db1cbda923e968f91/tumblr_inline_mjvfbsUlMF1qz4rgp.png" alt="Get the app" /></a></p>

<h2>What&rsquo;s Splitwise?</h2>

<p><a href="http://splitwise.com">Splitwise</a> is a web app that lets you manage IOUs and bill splitting. I use it day-to-day during outings with friends but mainly I use it to keep track of bills and household expenses between me, my fiancee, and our roommate. It&rsquo;s a great tool and they provide native apps for iOS and Android. When I started Centwise, they didn&rsquo;t have a WP app and I figured as an avid user of the service, my first app could be a Splitwise client.</p>

<p>I really want to thank the Splitwise team (Jon &amp; Ryan!) for helping me out, answering questions, and for mentioning Centwise on their blog.</p>

<h2>First app experience</h2>

<p>I bought a HTC 8X when it was announced on Verizon day one. I knew I wanted to leave my old Droid Incredible in the dust and move on to greener pastures. Being a Microsoft stack guy, I figured Windows Phone would be good not only because I like the interface and experience but also because I could make some apps for the platform.</p>

<p>In the past, I&rsquo;ve worked with WPF and XAML before, so learning the ins and outs of the pared-down Silverlight for Windows Phone wasn&rsquo;t too terrible but there were certainly roadblocks. I&rsquo;ve tried to bookmark every article or post I came across that helped me out, which I&rsquo;ll share at the end. Coming from a primarily web-based focus to a native XAML/C# platform was certainly jarring and there were times I slammed my hands on the keyboard exclaiming, &ldquo;THIS WOULD BE WAY EASIER IN CSS AND HTML!&rdquo; Like making a transparent button, for example.</p>

<p>I hope to go more in detail with certain issues as well as share some tips and tricks I learned along my journey to building my first app. There can be a lot of crazy things you wouldn&rsquo;t know XAML can do if you didn&rsquo;t spend time deconstructing bigger open-source libraries (which I <em>highly</em> recommend, I often kept <a href="http://phone.codeplex.com">Phone Toolkit</a> open alongside my own app to see how they built controls).</p>

<h2>The beginnings</h2>

<p>All apps have a beginning. Mine began on paper using the <a href="http://www.flickr.com/photos/michaeldorian/5071511857/">excellent paper templates</a> provided by Michael Bach.</p>

<p>Here are the paper sketches I made that helped me form the screens for the app. I spent most of my time sketching the more complex pages, the ones that needed to do or show a lot of stuff but where I wanted to keep it as simple as possible.</p>

<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136892&authkey=ACGYGiJBJeURBfk" width="320" height="180" frameborder="0" scrolling="no"></iframe>




<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136893&authkey=AEr0Ed2bQzMJx54" width="320" height="180" frameborder="0" scrolling="no"></iframe>




<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136894&authkey=APrH1Wua6J8fLJU" width="320" height="180" frameborder="0" scrolling="no"></iframe>


<p>I&rsquo;ve found it helpful to do these types of sketches to help me visualize the UI. It also helps me see immediately whether or not my idea makes sense.</p>

<p>From there, I could start working on the XAML and the screens to put my ideas into the app. However, as you&rsquo;ll soon see, my first ideas usually weren&rsquo;t the best.</p>

<h2>Optimizing the UX</h2>

<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136892&authkey=ACGYGiJBJeURBfk" width="320" height="180" frameborder="0" scrolling="no"></iframe>


<p>If you look at the first image, you can see that my initial idea when creating expenses was to display a list of people to choose from. In fact, pre-1.0 that is exactly what I had done. The flow looked like this:</p>

<ol>
<li>User specifies &ldquo;Create an IOU&rdquo;</li>
<li>User chooses other person or chooses from address book</li>
<li>User is shown IOU screen</li>
</ol>


<p>This was pretty straightforward&hellip; after all, there are only 3 steps. But that was one step too many. It also ended up complicating my code quite a bit due to managing the back stack (i.e. what happens when a user cancels or hits &lsquo;Back&rsquo;).</p>

<p>In the final 1.0 release, I changed it to be easier and faster:</p>

<ol>
<li>User chooses to create an IOU</li>
<li>User is shown screen and either a) the other person is already populated or b) user can tap the avatar placeholder to choose someone</li>
</ol>


<p>That&rsquo;s just one example of a change I had made that was different from my first implementation.</p>

<p>If you take a look at the second set of sketches, you can see I drastically changed how the IOU (and other) screens were laid out.</p>

<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136893&authkey=AEr0Ed2bQzMJx54" width="320" height="180" frameborder="0" scrolling="no"></iframe>




<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136609&authkey=AOWlC2tQqkFVW_A" width="180" height="320" frameborder="0" scrolling="no"></iframe>


<p>Here are just some of the changes I made:</p>

<ol>
<li>Instead of a button, I created a <code>CalculatorTextBox</code> that combines a calculator and amount textbox into one.</li>
<li>This was huge because it also greatly simplified the UI of the Divide a Bill screen</li>
<li>Moved the currency button to the appbar menu items because it&rsquo;s not something a user will typically use often.</li>
<li>Made the static arrow shown between avatars a button to easily swap people in case the user made a mistake</li>
</ol>


<h2>Easy but not simple</h2>

<p>Someone wise once said:</p>

<blockquote><p>Making things easy is <em>hard</em>.</p></blockquote>

<p>That&rsquo;s been true with everything I&rsquo;ve ever had the pleasure to work on. Easy is hard.</p>

<p>I didn&rsquo;t have any formal beta testers, mainly because the Windows Phone Dev Center didn&rsquo;t let me (<em>sigh</em>), but that didn&rsquo;t stop me from showing it to friends and family to have them test it out.</p>

<p>The core implementation of the app is pretty simple&hellip; it&rsquo;s all the extra work I had to put in to make the <em>app</em> simple that wasn&rsquo;t easy. Not only was it my first time trying to learn Windows Phone development, I also have a tendency to spend a lot of time on little things.</p>

<iframe src="https://skydrive.live.com/embed?cid=0E21D632E0E57AEE&resid=E21D632E0E57AEE%2136736&authkey=AI7_LBxzEW-9MkM" width="180" height="320" frameborder="0" scrolling="no"></iframe>


<p>For example, let&rsquo;s consider the &ldquo;people picker&rdquo; functionality. When a user wants to choose people to add to the expense, there&rsquo;s more logic than simply &ldquo;show the user&rsquo;s friends&rdquo;. The control actually does several things:</p>

<ol>
<li>If the user adds an expense type in the context of a group, then the picker shows the people in that group first.</li>
<li>If the user divides a bill from the home screen, the picker shows available groups which:</li>
<li>Automatically adds all the people in that group to the bill</li>
<li>Sets the &ldquo;filed in&rdquo; value to the group they chose, regardless of the context the user was in (home screen vs. group)</li>
<li>Makes sure not to show people already added to the expense</li>
<li>Let&rsquo;s the user choose someone from the address book (but not for payments!)</li>
</ol>


<p>I use this people picker anywhere I need to, including when creating a group. By reusing the same experience, the user never has to learn a new way of picking people.</p>

<p>There&rsquo;s just a ton of little things like that throughout the app that the user probably won&rsquo;t ever notice but I hope surfaces in the form of, &ldquo;Hey, this is easy to use!&rdquo;. I didn&rsquo;t want the app to get in the way of the user doing whatever they needed to do.</p>

<p>I cannot count the amount of hours I&rsquo;ve spent so far, although I tried to keep track at first but once I hit 60+ hours in less than a week, I stopped. Luckily, GitHub has a great visualization of how often I worked the app:</p>

<p><strong>Commit Activity</strong></p>

<p><img src="/blog/images/72.png" alt="I am insane" /></p>

<p>Let me break it down for you: I am insane.</p>

<p><img src="/blog/images/73.png" alt="Seriously, insane" /></p>

<p>You can forgive me if I plan to take it a bit slower with updates. I was hoping to finish in time for the Next App Star challenge but unfortunately even spending countless hours during the week, the app just wasn&rsquo;t in a good state in time for that deadline.</p>

<h2>What&rsquo;s next?</h2>

<p>I hope to go into more technical detail around some of the things I did with my app at a later point. I was really excited to learn how to build a Windows Phone app and am very pleased with the result. I didn&rsquo;t build it expecting to make thousands of dollars; I&rsquo;ll be lucky (and happy) if I break $500 but making it a paid-for app motivates me as a single developer to keep the app up-to-date and full of useful features. I have personal projects and open projects that eat up time that I need to make sure I can support each one of them.</p>

<p>As far as what I have planned, you can keep tabs on <a href="http://centwiseapp.com">CentwiseApp.com</a> or follow Centwise on <a href="http://twitter.com/centwiseapp">Twitter</a> or <a href="http://facebook.com/centwise">Facebook</a>. I hope to do a UI refresh soon and I have about 20+ enhancements to incrementally add. I already released the <a href="http://centwiseapp.com/post/46850512483/update-v1-1-will-be-available-today">1.1 update</a> that added several new features, so that&rsquo;s a good start!</p>

<h2>Resources</h2>

<p>Here are all my bookmarks currently under my Windows Phone folder:</p>

<ul>
<li><a href="http://www.windowsphone.com/en-us/store/app/centwise/faeb5f7b-fbb6-41c6-8fac-17d81dae703d">Centwise | Windows Phone Apps+Games Store (United States)</a></li>
<li><a href="http://bartwullems.blogspot.com/2012/08/caliburnmicro-design-time-support.html">The art of simplicity: Caliburn.Micro: Design time support</a></li>
<li><a href="http://elegantcode.com/2009/04/07/wpf-stringformat-in-xaml-with-the-stringformat-attribute/">Elegant Code » WPF String.Format in XAML with the StringFormat attribute</a></li>
<li><a href="http://blogs.msdn.com/b/pfxteam/archive/2010/11/21/10094564.aspx">Processing Sequences of Asynchronous Operations with Tasks &ndash; .NET Parallel Programming &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://www.windowsphonegeek.com/articles/Implementing-Windows-Phone-7-DataTemplateSelector-and-CustomDataTemplateSelector">Implementing Windows Phone 7 DataTemplateSelector and CustomDataTemplateSelector | WindowsPhoneGeek</a></li>
<li><a href="http://www.jeff.wilcox.name/2011/07/creating-a-global-progressindicator-experience-using-the-windows-phone-7-1-sdk-beta-2/">Jeff Wilcox – Creating a global ProgressIndicator experience using the Windows Phone 7.1 SDK Beta 2</a></li>
<li><a href="http://danielvaughan.orpius.com/post/Binding-the-WP7-ProgressIndicator-in-XAML.aspx">Daniel Vaughan | Binding the WP7 ProgressIndicator in XAML</a></li>
<li><a href="http://cyberherbalist.wordpress.com/2011/03/20/addingremoving-appbar-buttons-on-the-fly/">Adding/Removing AppBar Buttons on the fly « Cyberherbalist&#39;s Blog</a></li>
<li><a href="http://weblogs.asp.net/dotjosh/archive/2009/11/05/bringintoview-extension-method-for-silverlight-with-behavior.aspx">Silverlight BringIntoView() extension method (with OnGotFocus behavior) &ndash; Josh Schwartzberg high-fives the CLR</a></li>
<li><a href="http://blogs.msdn.com/b/jaimer/archive/2010/11/23/working-with-gif-images-in-windows-phone.aspx">Working with GIF images in Windows Phone &ndash; Jaime Rodriguez &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://compiledexperience.com/blog/posts/wp7-context-menus-with-caliburn-micro">WP7 Context Menus with Caliburn Micro &ndash; Compiled Experience &ndash; Freelance Windows 8 and Windows Phone Application Development</a></li>
<li><a href="http://caliburnmicro.codeplex.com/">Caliburn Micro: WPF, Silverlight, WP7 and WinRT/Metro made easy. &ndash; Home</a></li>
<li><a href="http://blog.falafel.com/blogs/josh-eastburn/2011/09/16/silverlight_listbox_add_and_remove_animations">Silverlight ListBox Add and Remove Animations</a></li>
<li><a href="http://blogs.msdn.com/b/bclteam/archive/2012/10/22/using-async-await-without-net-framework-4-5.aspx">Using async/await without .NET Framework 4.5 &ndash; BCL Team Blog &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://www.scottlogic.co.uk/blog/colin/2011/05/metro-in-motion-part-4-tilt-effect/">Metro In Motion Part #4 – Tilt Effect | Colin Eberhardt&#39;s Technology Adventures</a></li>
<li><a href="http://blogs.msdn.com/b/pfxteam/archive/2011/09/28/10217876.aspx">Task Exception Handling in .NET 4.5 &ndash; .NET Parallel Programming &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://social.msdn.microsoft.com/Forums/en-US/async/thread/b536336f-812a-4227-8abe-fd123df49fc1">good way to cancel async method</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dd537607.aspx">How to: Cancel a Task and Its Children</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dd997364.aspx">Cancellation in Managed Threads</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dd997396.aspx">Task Cancellation</a></li>
<li><a href="http://blogs.msdn.com/b/fiddler/archive/2010/10/15/fiddler-and-the-windows-phone-emulator.aspx">Fiddler and the Windows Phone 7 Emulator &ndash; Fiddler Web Debugger &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://www.silverlightplayground.org/post/2009/07/10/Silverlight-30-RTW-The-CollectionViewSource.aspx">Silverlight 3.0 RTW: The CollectionViewSource</a></li>
<li><a href="http://windowsphonegeek.com/tips/how-to-search-for-a-contact-and-get-contact-picture-in-windows-phone">How to: Search for a Contact and get Contact Picture in Windows Phone | WindowsPhoneGeek</a></li>
<li><a href="http://www.silverlightshow.net/items/Windows-Phone-7-Part-3-Understanding-navigation.aspx">Windows Phone 7 &ndash; Part #3: Understanding navigation</a></li>
<li><a href="http://blogs.msdn.com/b/ptorr/archive/2010/08/28/redirecting-an-initial-navigation.aspx">Redirecting an initial navigation &ndash; Peter Torr&#39;s Blog &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://blogs.claritycon.com/windowsphone7/">Clarity on Windows Phone 7</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/hh487164(v=VS.92">How to: Encrypt Data in a Windows Phone Application</a>.aspx)</li>
<li><a href="http://multitouch.codeplex.com/">Windows Phone, Silverlight and WPF Multi-Touch Manipulations &ndash; Home</a></li>
<li><a href="http://msdn.microsoft.com/en-us/expression/ff624123.aspx">Dynamic Layout and Transitions in Expression Blend 4</a></li>
<li><a href="http://blogs.claritycon.com/blog/2011/02/silverlight-4-property-triggers/">Silverlight 4 Property Triggers | Clarity Blogs</a></li>
<li><a href="http://expressionblend.codeplex.com/">Expression Blend Samples &ndash; Home</a></li>
<li><a href="http://jacob4u2.blogspot.com/2011/02/silverlight-4-property-triggers.html">Jacob Gable: Silverlight 4 Property Triggers</a></li>
<li><a href="http://www.codeproject.com/Articles/150166/Loading-Data-when-the-User-Scrolls-to-the-End-of-a">Loading Data when the User Scrolls to the End of a List in Windows Phone 7 &ndash; CodeProject</a></li>
<li><a href="http://blogs.msdn.com/b/expression/archive/2010/03/16/dynamic-layout-and-transitions-in-expression-blend-4.aspx">Dynamic Layout and Transitions in Expression Blend 4 &ndash; Expression Blend and Design &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://msdn.microsoft.com/id-id/library/windowsphone/develop/jj206997(v=vs.105">How to target multiple versions with your app for Windows Phone</a>.aspx#linked_projects)</li>
<li><a href="http://msdn.microsoft.com/library/windowsphone/design/jj662929(v=vs.105">Tile design guidelines for Windows Phone</a>.aspx)</li>
<li><a href="http://msdn.microsoft.com/en-US/library/windowsphone/develop/jj206974(v=vs.105">Multi-resolution apps for Windows Phone 8</a>.aspx)</li>
<li><a href="http://www.codeproject.com/Articles/412435/Logging-exceptions-of-Windows-Phone-applications-t">Logging exceptions of Windows Phone applications to a central server with the help of FogBugz &ndash; CodeProject</a></li>
<li><a href="http://blogs.msdn.com/b/priozersk/archive/2010/09/20/creating-progress-dialog-for-wp7.aspx">Creating Progress Dialog for WP7. &ndash; Alex Yakhnin&#39;s Blog &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://dotnetapp.com/blog/2012/05/21/how-to-fix-the-standard-header-of-a-pivot-control-using-a-style-and-how-to-fix-a-page-using-the-titlecontrol/">How to fix the standard header of a pivot control using a style and how to fix &ndash; ge using the TitleControl » .NET App</a></li>
<li><a href="http://nikovrdoljak.wordpress.com/2012/02/20/how-to-crash-other-wp7-applications/">How to crash other WP7 applications? | Niko Vrdoljak&#39;s Blog</a></li>
<li><a href="http://mikaelkoskinen.net/wp7-splitting-application-to-multiple-assemblies-when-using-caliburn-micro">WP7: Splitting Application to Multiple Assemblies when using Caliburn.Micro &ndash; Mikael Koskinen</a></li>
<li><a href="http://blogs.msdn.com/b/ptorr/archive/2011/07/11/background-agents-part-1-of-3.aspx">Background Agents &ndash; Part 1 of 3 &ndash; Peter Torr&#39;s Blog &ndash; Site Home &ndash; MSDN Blogs</a></li>
<li><a href="http://www.nachmore.com/talks/">Oren Nachman » Talks</a></li>
<li><a href="http://sterling.codeplex.com/">Sterling NoSQL OODB for .NET 4.0, Silverlight 4 and 5, and Windows Phone 7 &ndash; Home</a></li>
<li><a href="http://msdn.microsoft.com/en-us/magazine/hh205658.aspx">MSDN Magazine: Windows Phone 7 &ndash; Sterling for Isolated Storage on Windows Phone 7</a></li>
<li><a href="http://modernuiicons.com/">Modern UI Icons</a></li>
<li><a href="http://blog.humann.info/post/2011/08/28/Save-disk-space-with-IsolatedStorageGZipFileStream.aspx">Nicolas Humann | Save disk space with IsolatedStorageGZipFileStream</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/hh821020.aspx">Using Isolated Storage on the Phone</a></li>
<li><a href="http://channel9.msdn.com/Events/Build/2012/3-045">Windows Phone 8: Critical Developer Practices for Delivering Outstanding Apps | Build 2012 | Channel 9</a></li>
<li><a href="http://blogs.claritycon.com/windowsphone7/2011/01/wicked-wireframes-wp7-vector-ux-kit-3/">» Wicked Wireframes: WP7 Vector UX Kit on Windows Phone 7</a></li>
<li><a href="http://www.flickr.com/photos/michaeldorian/5071511857/">Windows Phone 7 Wireframe Paper Sketching Template | Flickr &ndash; Photo Sharing!</a></li>
<li><a href="http://www.jeff.wilcox.name/2012/01/jeffwilcox-maps/">Jeff Wilcox – Displaying static maps on the Windows Phone for performance and scenario wins</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff769542(v=vs.105">Launchers and Choosers for Windows Phone</a>.aspx)</li>
<li><a href="http://usdpe.ohours.org/">People Hosting Open Office Hours</a></li>
<li><a href="http://iconmonstr.com/">iconmonstr &ndash; Free simple icons for your next project</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/66/about-my-web-api-session-at-twin-cities-code-camp">About My Web API Session at Twin Cities Code Camp</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-05T20:59:46-06:00" pubdate data-updated="true">Mar 5<span>th</span>, 2013</time>
        
           | <a href="/blog/posts/66/about-my-web-api-session-at-twin-cities-code-camp#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/66/about-my-web-api-session-at-twin-cities-code-camp">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Update:</strong> I&rsquo;ll be in the 12:45pm track, come see me crash and burn!</p>

<p>Yay! I was just informed by TCCC that I&rsquo;ve made it onto the <a href="http://twincitiescodecamp.com/TCCC/Spring2013/Sessions.aspx#s22">Sessions list</a> so I guess I&rsquo;m officially a speaker. This would be the very first time I&rsquo;m giving a public talk <em>on my own</em>. I was part of a session at MinneWebCon when I spoke about my work on the Student Unions &amp; Activities touch-screen directory, so I have <em>at least</em> 15 minutes under my belt.</p>

<h3>Session? Or Presentation?</h3>

<p>Presentation is a strong and loaded word. It brings to mind a boring PowerPoint slideshow of stuff no one ever reads. It brings to mind a stale &ldquo;I&rsquo;m going to talk at you&rdquo; type of feeling, where the &ldquo;participants&rdquo; aren&rsquo;t actually participating.</p>

<p>No, my session at TCCC is not like that. I did a 20 minute version of the session at work and it went well, though I didn&rsquo;t have much time to dive into real code, which is definitely what I plan to do at TCCC&hellip; after all, it is a <strong>code camp</strong>. I will be showing some information about the topics I cover but other than that, we will be diving into the bowels of my app&hellip; for better or worse.</p>

<h3>ASP.NET Web API: What now?</h3>

<p>I&rsquo;ve been using Web API for a bit, it&rsquo;ll be a core part of the next <a href="http://keeptrackofmygames.com">Keep Track of My Games</a>. In fact, the beta version of KTOMG will be what I will use to demo all my code and ideas.</p>

<p>I&rsquo;m not an expert on it. I&rsquo;m not even &ldquo;great&rdquo; at it. I&rsquo;m just a regular developer who is using it on a real project and I&rsquo;ve run into &ldquo;real&rdquo; issues. The main reason I wanted to do a session on Web API is because of a few reasons:</p>

<ol>
<li>Web API is awesome and everyone should know about it</li>
<li>Some things aren&rsquo;t apparent when you&rsquo;re starting out doing API development</li>
<li>Most presentations on Web API are cursory overviews</li>
<li>It can be hard to know what the &ldquo;right way&rdquo; to do things is</li>
</ol>


<p>Regarding #4, this is a hard thing to talk about&hellip; since I still don&rsquo;t know &ldquo;what the right way&rdquo; is and I think it depends on your situation. However, at the very least, I can tell you <em>what I did</em> and <em>what works for me</em> and maybe you can leave the session with a better idea of what it is you want to do.</p>

<h3>So what&rsquo;s on the agenda?</h3>

<p>Lots of stuff, and I&rsquo;m sure we won&rsquo;t get to a lot of it:</p>

<ul>
<li>Debugging tips</li>
<li>CSRF prevention</li>
<li>Custom routing (w/client-side)</li>
<li>Custom error handling</li>
<li>Integration with the client-side</li>
<li>Working with multiple clients (phone, Windows 8, etc.)</li>
<li>Versioning</li>
<li>Async actions</li>
</ul>


<p>There&rsquo;ll be plenty to show and plenty more to discuss. I&rsquo;m more interested in seeing what others have done or would recommend.</p>

<p>I&rsquo;m pretty excited, so I&rsquo;ll see you April 27!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/64/bindableappbar-for-caliburn-micro">BindableAppBar for Caliburn Micro</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-05T19:07:28-06:00" pubdate data-updated="true">Mar 5<span>th</span>, 2013</time>
        
           | <a href="/blog/posts/64/bindableappbar-for-caliburn-micro#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/64/bindableappbar-for-caliburn-micro">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Update:</strong> Matteo Pagani has a <a href="http://wp.qmatteoq.com/first-steps-with-caliburn-micro-the-application-bar/">great introduction</a> on setting up the BindableAppBar. Thanks Matteo!</p>

<p>Anyone who has done Windows Phone development will tell you: the appbar sucks.</p>

<p>It sucks for several reasons:</p>

<ul>
<li>It&rsquo;s not a <code>DependencyObject</code> so you can&rsquo;t use binding</li>
<li>It doesn&rsquo;t support commands</li>
<li>It&rsquo;s hard to make it dynamic because it must be maniuplated in code</li>
<li>It sucks</li>
</ul>


<p>Given those reasons, it&rsquo;s no surprise people have come up with &ldquo;bindable app bars&rdquo; that are basically wrappers around the appbar that allow binding, manipulation, and such.</p>

<p>Unfortunately, none of those solutions have come to Caliburn. Caliburn <em>does</em> provide basic message binding support and IsEnabled guarding, but that&rsquo;s it.</p>

<p>So, given that I <strong>really</strong> wanted to start binding some appbars hardcore, I decided to spend a day and make it happen.</p>

<p><strong>Introducing the Caliburn.Micro.BindableAppBar</strong>: you can enjoy the fruits of my labor on <a href="https://nuget.org/packages/Caliburn.Micro.BindableAppBar/">Nuget</a> or at the <a href="https://github.com/kamranayub/CaliburnBindableAppBar">GitHub</a> repository. Here&rsquo;s hoping Rob brings this into core so it&rsquo;ll just &ldquo;be there&rdquo; and integrated more into the overall Caliburn system.</p>

<p>The big benefit is the ability to easily use multiple appbars on a single view <strong>and</strong> in conducted Pivot/Panorama views. In my case, I do both, because one pivot page has two states (a selection state and a browsing state) and both requires two different appbars. The other pivot page doesn&rsquo;t need all the cruft of the first pivot&rsquo;s appbar, so only one button is present on it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/65/i-forked-fastjson">I Forked fastJSON</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-05T17:00:00-06:00" pubdate data-updated="true">Mar 5<span>th</span>, 2013</time>
        
           | <a href="/blog/posts/65/i-forked-fastjson#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/65/i-forked-fastjson">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My Windows Phone app mainly deals with talking to a web API. I&rsquo;ve previously had good experience using RestSharp but now with the new <code>async/await</code> features, I&rsquo;ve been trying to only use <code>Task</code>-based stuff. I gotta say, I&rsquo;m loving it.</p>

<p>RestSharp for WP does not natively support async/await but you can wrap it yourself. However, why not just use <code>HttpClient</code>? So that&rsquo;s what I did. I ripped out RestSharp and replaced it with <a href="https://github.com/neuecc/AsyncOAuth">AsyncOAuth</a> (which depends on HttpClient).</p>

<p>Besides OAuth, the other issue you&rsquo;ll run into is what serializer/deserializer to use. You could go with JSON.NET, or ServiceStack, but those are two extremes&hellip; one being very flexible and other being very inflexible. I needed an in-between but also something very fast and that&rsquo;s exactly what <a href="http://www.codeproject.com/Articles/159450/fastJSON">fastJSON</a> is.</p>

<p>Of course, it&rsquo;s fast because of the same reason SS is fast: it doesn&rsquo;t do any fancy property matching. When you&rsquo;re dealing with APIs, it&rsquo;s rare that the response they send back matches exactly with your object model and properties (especially C#). That&rsquo;s why the name variance feature of the larger libraries is awesome.</p>

<p>So, I did what any good developer would, I dug in and added it. I also added <code>rootElement</code> support (for contained responses).</p>

<p>You can find my changes in my <a href="https://github.com/kamranayub/fastJSON">fastJSON fork</a> on GitHub. I also went ahead and organized the solution a bit, as the original source was a bit hard to get running. I also created a Nuget package for my changes and pushed that (<a href="https://nuget.org/packages/fastJSON-kayub">fastJSON-kayub</a>).</p>

<p>I don&rsquo;t necessarily intend to keep my changes in-sync. It would be preferable if my changes were pulled into the original&hellip; and it wouldn&rsquo;t hurt to use my new organization (since it&rsquo;s easy for others to pull down and build), but if that never happens, I&rsquo;m fine with that.</p>

<h3>Note on Name Variance</h3>

<p>The name variance is interesting. In R#, the code was written to <code>yield return</code> each variant so as soon as one matches, it returns. In fastJSON, the matching is done in the opposite direction, fastJSON will try to match the JSON key to an object&rsquo;s properties&hellip; so it makes it difficult to use what R# had written originally. I modified the code to allow for optional variant matching to speed things up. Without that, the name variance increased deserialization time by <strong>a ton</strong>. However, in my case, I really only needed ProperCase matching&hellip; which only increases the time by about 2x.</p>

<p>That&rsquo;s why I made the decision to opt-out of name variance by default and when enabled, only enable ProperCase by default as that&rsquo;s probably the most common.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/62/renderroutes-expose-your-routes-to-your-javascript">RenderRoutes: Expose Your Routes to Your Javascript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-02T22:03:43-06:00" pubdate data-updated="true">Jan 2<span>nd</span>, 2013</time>
        
           | <a href="/blog/posts/62/renderroutes-expose-your-routes-to-your-javascript#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/62/renderroutes-expose-your-routes-to-your-javascript">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When you&rsquo;re working on an AJAX-enabled application, you&rsquo;ll soon discover it can be a pain to manage URLs. In fact, when you&rsquo;re working with ASP.NET MVC in general, working with routes is a pain. As soon as you want to change one, you have to go and find everywhere it&rsquo;s used.</p>

<p>I came up with a solution that works well for me and may for you.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// Are you writing code like this?</span>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/products/&quot;</span> <span class="o">+</span> <span class="nx">productId</span> <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Wouldn&#39;t you rather write this?</span>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span> <span class="nx">url</span><span class="o">:</span> <span class="nx">Router</span><span class="p">.</span><span class="nx">url</span><span class="p">(</span><span class="s2">&quot;product&quot;</span><span class="p">,</span> <span class="nx">productId</span><span class="p">)</span> <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>In MVC, you have the notion of &ldquo;named&rdquo; routes, like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c#'><span class='line'><span class="n">routes</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span> <span class="n">RouteName</span> <span class="p">=</span> <span class="s">&quot;product&quot;</span><span class="p">,</span> <span class="n">Url</span> <span class="p">=</span> <span class="s">&quot;product/{productId}&quot;</span> <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>(<em>Side Protip: <a href="http://kamranicus.com/Blog/Posts/23/mvc-pro-tip-dont-use-the-id-url-parameter-in-your">Don&rsquo;t use &ldquo;{id}&rdquo; in MVC routes</a></em>)</p>

<p>However, in the default MVC world, you would need to create these entries in your Global ASAX or wherever you set up your routes, and once you have enough, it will quickly get out of hand.</p>

<p>Awhile back, I started using <a href="http://attributerouting.net">AttributeRouting</a> to help organize my routing and remove the shackles of the default MVC routing experience. I even <a href="/Blog/Posts/43/attributerouting-now-supports-web-api">contributed the first Web API implementation</a> to the project.</p>

<p>One of the bonuses of using AR is that it uses a standard interface for any routes it creates, <code>IAttributeRoute</code>. I knew that when I started using Web API more that I needed an easy way to bring my server-side routes to my client-side in a way that was easy to use and that I didn&rsquo;t need to manually maintain.</p>

<p>Thus was born my <code>RenderRoutes</code> extension:</p>

<script src="https://gist.github.com/4438411.js"></script>


<p>In order to use this properly in your Javascript, you&rsquo;ll need to create a helper utility. The one that I use is very simplistic, doing basic search and replace on parameters, which is the only thing I really need with my routes.</p>

<p>The dependencies my solution has are:</p>

<ul>
<li><a href="http://attributerouting.net">AttributeRouting</a></li>
<li><a href="http://underscorejs.org">Underscore.js</a></li>
</ul>


<p>That&rsquo;s only because it was easier to leverage my existing dependencies. A more intrepid soul might be willing to de-couple my solution from these dependencies, and if you do, let me know so I can update my Gist. In fact, you should just fork my gist. Hmm, that sounds wrong.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/61/a-smarter-checked-binding-for-knockoutjs">A Smarter `checked` Binding for KnockoutJS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-31T09:48:04-06:00" pubdate data-updated="true">Dec 31<span>st</span>, 2012</time>
        
           | <a href="/blog/posts/61/a-smarter-checked-binding-for-knockoutjs#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/61/a-smarter-checked-binding-for-knockoutjs">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p><strong>Update</strong>: In Knockout 3+, this issue is solved with the new <code>checkedValue</code> binding. Read the <a href="http://knockoutjs.com/documentation/checked-binding.html">documentation</a> for details. You can still use my workaround for KO 2.x and below.</p></blockquote>

<p>I love KnockoutJS. I&rsquo;ve been using it for awhile now and I really enjoy it. That said, there are a few oddities with it, one such being the <code>checked</code> binding.</p>

<p>Let&rsquo;s say you have this scenario (as I do now):</p>

<p>You want to <code>foreach</code> a list of items, each one having a checkbox. You want to store the checked items in a list, for use throughout the view model (bulk updates, select all, deselect all, etc.). How do you go about doing this?</p>

<p>The &ldquo;recommended&rdquo; approach would be to add an observable property, <code>isSelected</code>, to each of your items. Then, in your markup, you can bind to that property:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul</span> <span class="na">data-bind=</span><span class="s">&quot;foreach: tasks&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">data-bind=</span><span class="s">&quot;checked: isSelected&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>That is OK. It&rsquo;s OK because what if you need to use that item (assuming you&rsquo;re using a &ldquo;class&rdquo; or other reusable object) somewhere else where you don&rsquo;t need that property. You could just attach it where you need it. It also makes it a bit tricky to manage the list of selected items (you&rsquo;d probably end up creating a <code>computed</code> array), as well as making it difficult to dynamically bind a checkbox list to a computed array.</p>

<p>What you may decide to do (like me) is to try and bind the <code>checked</code> to your own observable array, and assign the <code>value</code> of the checkbox to a model property like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">data-bind=</span><span class="s">&quot;checked: $root.selectedTaskIds, value: id&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, if you do this, you&rsquo;ll soon discover a few oddities:</p>

<ol>
<li>When you check the checkbox, the <em>string</em> value of your model property will be placed into the array.</li>
<li>Your model property <em>will change to this new string value</em> essentially changing your original model.</li>
</ol>


<p>There are reasons for these two crazy happenings, which I discovered:</p>

<ol>
<li>The <code>checked</code> binding bases its value on the <em>element&rsquo;s</em> value, which is stored as a string.</li>
<li>The <code>value</code> binding keeps the property you are bound to and the <em>element&rsquo;s value</em> in-sync, which is why your model&rsquo;s ID becomes a string.</li>
</ol>


<p>It turns out, we&rsquo;re suffering from some mental model breakdown. If you look at the KO documentation for <code>checked</code>, it&rsquo;s easy to believe the above syntax should work, after all, it says:</p>

<blockquote><p>Special consideration is given if your parameter resolves to an array. In this case, KO will set the element to be checked if the <strong>value</strong> matches an item in the array, and unchecked if it is not contained in the array.</p></blockquote>

<p>If the <em>value</em> matches&hellip; &ldquo;Cool!&rdquo; so I can just bind the <code>value:</code> to my model property? NOPE. You&rsquo;ll run into the aforementioned issues if you try.</p>

<h3>Making a smarter <code>checked</code> binding</h3>

<p>Since I didn&rsquo;t want to add <code>isSelected</code> properties everywhere, I decided to &ldquo;monkey patch&rdquo; the <code>checked</code> and <code>value</code> bindings to play nice together.</p>

<p>Essentially, all my patch does is two things:</p>

<ol>
<li>In the <code>checked</code> binding, if it finds a <code>value</code> binding, it binds to that value rather than the element&rsquo;s value.</li>
<li>In the <code>value</code> binding, it completely ignores any changes if the <code>checked</code> binding is present, essentially nullifying the binding.</li>
</ol>


<p>Here are the new binding definitions:</p>

<script src="https://gist.github.com/4418574.js"></script>


<p>And you can see it in action here:</p>

<iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/kamranayub/G8YZU/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<p>As you can see, now it works as you&rsquo;d expect! You can bind the <code>id</code> property to the list. You can also bind <code>$data</code> and you&rsquo;ll have the full object in your selected list.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/60/disappointed-in-the-windows-store-submission-proce">Disappointed in the Windows Store Submission Process</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-15T02:29:55-06:00" pubdate data-updated="true">Dec 15<span>th</span>, 2012</time>
        
           | <a href="/blog/posts/60/disappointed-in-the-windows-store-submission-proce#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/60/disappointed-in-the-windows-store-submission-proce">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m disappointed I have to write about this, because I shouldn&rsquo;t have to. I&rsquo;ve been a Microsoft-stack guy for a long time and I was <em>really</em> excited to release my <a href="http://steamhubapp.com">first app</a> for Windows 8. I&rsquo;m even more excited to also work on a Windows Phone app. That&rsquo;s why I bought a Surface RT and a new HTC 8X. I&rsquo;m all in.</p>

<p>So imagine my disappointment when, after five days, I receive this email:</p>

<blockquote><p>Windows Store: we couldn&rsquo;t certify your app</p></blockquote>

<p>Boo. <em>Okay,</em> I thought, <em>I must have missed something, no big deal.</em> Clearly the testers must have found something that I missed, since I ran my app through memory profiling and performance testing both on my PC and Surface. I even poured over the certification checklist and common points of failure. What did I miss?</p>

<p><strong>Nothing.</strong></p>

<p>Here&rsquo;s what the tester&rsquo;s note said on the report:</p>

<blockquote><p>F:: It is unclear how to create an account for this app to be reviewed. This prevented us from completing our review of this app.</p></blockquote>

<p><em>What?</em> &ldquo;Unclear&rdquo;? You mean, the first sentence of my &ldquo;Instructions to Testers&rdquo; wasn&rsquo;t clear enough?</p>

<blockquote><p>Please use my account (***) to test the app with.</p></blockquote>

<p><em>So. Frustrating.</em> I could understand if I had perhaps put that information at the bottom of my note, forgot to include it, or something else&hellip; but I <em>put it at the top of the instructions</em> to avoid this very problem. How can I feel confident in this testing process if the testers don&rsquo;t read our instructions? It just seems to contribute to my overall view that the Windows Store is lacking in several areas and &ldquo;just isn&rsquo;t there&rdquo; yet but I suppose that rant is for another day.</p>

<p>What makes it worse is that the tutorial video I include in the app (that is accessible on the first screen) <strong>uses my account to demo.</strong> It just boggles my mind.</p>

<p><img src="http://ragemaker.net/images/Stupidity/seriouslyChan.png" alt="Seriously?" /></p>

<p>The icing on the cake was that it took 5 days for this to fail. I&rsquo;m sure it goes into a queue and that the actual time to perform &ldquo;content compliance&rdquo; is an hour or so but even knowing that, it just made it worse since now I have to wait an additional X days for something I shouldn&rsquo;t have had to wait for in the first place.</p>

<p>There&rsquo;s nothing else I can really do about it, though. I re-submitted it, I added extra emphasis in the Notes field, but what else is there? Just pray it works this time, I guess. Disappointing first-time experience, to say the least.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/59/using-knockout-bindings-in-your-winjs-application">Using Knockout Bindings in Your WinJS Application</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-01T17:08:38-06:00" pubdate data-updated="true">Dec 1<span>st</span>, 2012</time>
        
           | <a href="/blog/posts/59/using-knockout-bindings-in-your-winjs-application#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/59/using-knockout-bindings-in-your-winjs-application">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you&rsquo;ve done any serious Windows 8 development with WinJS, you&rsquo;ve probably come across this wall:</p>

<blockquote><p>I need to do some custom logic and data binding on this element and I wish I could just use <code>win-data-bind</code> to do it.</p></blockquote>

<p>In my case, all I wanted to do was toggle a CSS class based on my view model&rsquo;s property. In WinJS bindings, there is no way to call a custom binding converter with parameters nor can you access the DOM element from a converter, as far as I can tell.</p>

<p>Technically, you could call a function using <code>markSupportedForProcessing</code> and pass in these parameters, like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="c">&lt;!-- Template --&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">data-win-bind=</span><span class="s">&quot;className: myprop Converters.toggleClass&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="c1">// JS</span>
</span><span class='line'><span class="nx">WinJS</span><span class="p">.</span><span class="nx">Namespace</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;Converters&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">toggleClass</span><span class="o">:</span> <span class="nx">WinJS</span><span class="p">.</span><span class="nx">Utilities</span><span class="p">.</span><span class="nx">markSupportedForProcessing</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">sourceProperties</span><span class="p">,</span> <span class="nx">dest</span><span class="p">,</span> <span class="nx">destProperties</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">source</span><span class="p">[</span><span class="nx">sourceProperties</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">WinJS</span><span class="p">.</span><span class="nx">Utilities</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="nx">dest</span><span class="p">,</span> <span class="nx">sourceProperties</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">className</span><span class="p">;</span>
</span><span class='line'>    <span class="p">})</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>But I am not sure that&rsquo;s a great idea (as the base.js source code has a lot of extra stuff around this method, which is why they expose an easier <code>WinJS.Binding.coverter</code>).</p>

<h2>Mix N&#8217; Match</h2>

<p>It turns out, it <em>seems</em> to be relatively straight-forward to make KO and WinJS work together. Why would you want to? Well, WinJS has a lot of useful features like WinJS.Promises, utilities, controls, templates, and lots of other stuff. You lose all that if you use a 3rd party library (like KO or jQuery) exclusively.</p>

<p>With this approach, you can choose what works best. You could go all out and use KO to bind all your stuff and then use WinJS for whatever else you need. I chose to just leverage the custom binding functionality.</p>

<h2>Let&rsquo;s do it!</h2>

<p>Once you have Knockout installed (via Nuget or what have you), be sure it&rsquo;s included in your page:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>default.html
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- WinJS references --&gt;</span>
</span><span class='line'><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;//Microsoft.WinJS.1.0/css/ui-dark.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//Microsoft.WinJS.1.0/js/base.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//Microsoft.WinJS.1.0/js/ui.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/scripts/knockout-2.2.0.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I put it in default.html so it&rsquo;s globally accessible.</p>

<p>Now, all we are going to do is <strong>replace</strong> the call to <code>WinJS.Binding.processAll</code> with a function that intercepts the call and calls <code>ko.applyBindings</code>, then continues to call the built in WinJS function.</p>

<p>Create a new file, I named mine <em>*ko-winjs.js</em>:</p>

<script src="https://gist.github.com/4183235.js?file=ko-winjs.js"></script>


<p>Then, just include this before <strong>default.js</strong> in your HTML file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>default.html
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- WinJS references --&gt;</span>
</span><span class='line'><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;//Microsoft.WinJS.1.0/css/ui-dark.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//Microsoft.WinJS.1.0/js/base.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//Microsoft.WinJS.1.0/js/ui.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/scripts/knockout-2.2.0.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/scripts/ko-winjs.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And you&rsquo;re all set! Now you can do this in your templates:</p>

<script src="https://gist.github.com/4183235.js?file=template.html"></script>


<p>Pretty awesome!</p>

<h2>Disclaimer</h2>

<p>I have no idea how inefficient this is, but my guess is that this adds extra processing time (plus, binding cache issues?). I have a small application so I&rsquo;m not too worried about it and it&rsquo;s the best thing I could come up with on short notice.</p>

<p>That said, if someone smarter than me and more familiar with KO and WinJS in general could take a peek at this&hellip; I&rsquo;d be super grateful, since I think this is a killer feature. If WinJS could just support KO-style binding syntax, I&rsquo;d be totally cool with that too!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/58/using-calc-and-media-queries-to-create-a-combinati">Using Calc() and Media Queries to Create a Combination Variable + Fixed Sidebar</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-02T20:27:12-05:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2012</time>
        
           | <a href="/blog/posts/58/using-calc-and-media-queries-to-create-a-combinati#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/58/using-calc-and-media-queries-to-create-a-combinati">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The title of this post might be confusing, so let me describe our scenario:</p>

<p>I am working on a responsive layout, specifically one right now that has two columns, a content area and a right sidebar. This right sidebar needs to be flexible <em>up to a certain point</em> and then it needs to become fixed. In addition, both columns could be variable height, and on top of that, the two columns are sometimes split into two separate rows to achieve proper HTML markup order.</p>

<p>The reason the sidebar needs to have a minimum width is mostly due to the ads we&rsquo;re working with, since they have a fixed size. It might actually be possible to hack at the styles and make them pseudo-responsive, but I still want to share my tip with you, even if I don&rsquo;t end up using it.</p>

<p>I thought this was an interesting challenge because of two issues: the need for both flex <em>and</em> fixed for the same column.</p>

<h3>The Demo</h3>

<p>Here is the Fiddle I came up with where you can view the result:</p>

<iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/kamranayub/mHvtM/4/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


<h3>The Markup</h3>

<p>The markup is straightforward and simple. I essentially need two rows of two columns, where the right columns line up and <em>appear</em> to be a single sidebar. When I get down to the smaller breakpoints, both columns stop floating and stack vertically (but that is neither here nor there).</p>

<h3>The Styles</h3>

<p>Here&rsquo;s where it gets interesting. I start out the design with a 60% left column and 40% right column. However, I need the right column to stop being variable at 300px, and I need the left column to take up the remaining space.</p>

<p>The way I achieved this was by using a media query and the CSS3 <code>calc()</code> unit. I wanted to avoid Javascript at all costs.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="k">@media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">750px</span><span class="o">)</span> <span class="p">{</span> <span class="c">/* min-width / % = (300 / 0.4) = 750 */</span>
</span><span class='line'>    <span class="nc">.alpha</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">width</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">calc</span><span class="p">(</span><span class="m">100</span><span class="o">%</span> <span class="o">-</span> <span class="m">300px</span><span class="p">);</span>
</span><span class='line'>        <span class="k">width</span><span class="o">:</span> <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">calc</span><span class="p">(</span><span class="m">100</span><span class="o">%</span> <span class="o">-</span> <span class="m">300px</span><span class="p">);</span>
</span><span class='line'>        <span class="k">width</span><span class="o">:</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">calc</span><span class="p">(</span><span class="m">100</span><span class="o">%</span> <span class="o">-</span> <span class="m">300px</span><span class="p">);</span>
</span><span class='line'>        <span class="k">width</span><span class="o">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">100</span><span class="o">%</span> <span class="o">-</span> <span class="m">300px</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nc">.beta</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">width</span><span class="o">:</span> <span class="m">300px</span><span class="p">;</span>
</span><span class='line'>        <span class="k">background</span><span class="o">:</span> <span class="nb">orange</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Turns out, pretty simple!</p>

<h3>Gotchas</h3>

<p>Of course this world isn&rsquo;t perfect and neither is CSS3 support. According to <a href="http://caniuse.com/#feat=calc">Can I Use</a>, <code>calc</code> isn&rsquo;t supported in: IE &lt; 9, iOS &lt; 6.0, Android, Opera, or BB &lt; 10.0. That&rsquo;s lot of non-support.</p>

<p>So what to do? Well, in our case, it&rsquo;s not essential we maintain the fixed minimum-width. Especially if we can workaround the ads. If you <strong>must</strong> have the support, I don&rsquo;t know what to tell you. You could test for <code>calc</code> support using <a href="https://github.com/Modernizr/Modernizr/blob/master/feature-detects/css-calc.js">Modernizr</a>, then decide what to do in browsers that don&rsquo;t have that support (for example, throwing in the towel and just convert the layout to single column). You could also use a Javascript-based solution (which you might as well, if you&rsquo;re relying on Modernizr).</p>

<h3>Have a better solution?</h3>

<p>I&rsquo;d like to know. I&rsquo;m not a front-end expert, so there may be a more clever way to achieve this and maximize browser support. If you know of any way to do this better, please let me know down below.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/posts/57/enter-a-windows-8-contest-just-do-it">Enter a Windows 8 Contest, Just Do It!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-03T17:41:20-05:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2012</time>
        
           | <a href="/blog/posts/57/enter-a-windows-8-contest-just-do-it#disqus_thread"
             data-disqus-identifier="http://kamranicus.com/blog/posts/57/enter-a-windows-8-contest-just-do-it">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There are at least a couple app contests I know of for Windows 8: <a href="http://apptivate.ms">Apptivate</a> and <a href="http://www.generationapp.com/giveaway/">GenerationApp</a>.</p>

<p>The prizes are cool and all you need to do is make an app. In fact, for Apptivate at least, <em>your app doesn&rsquo;t even need to be complete to win</em>!</p>

<p>Can&rsquo;t think of an app to make? No worries, just ask yourself: what site do you like and would you like to bring it to Windows 8 or WinRT? Then ask, does it have an API or feed or enough of <em>something</em> to make a usable app? If the answer is <strong>Yes</strong> to both of those questions, you have your app.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  	<h1>About Me</h1>

  	<p><img src="http://gravatar.com/avatar/8303c4eb9f9099df39adbc3d8c634746?s=120" alt="My Headshot" title="My ugly mug" /></p>

  	<p>Hi, my name is Kamran. I am a web developer and designer, residing in Minnesota. I&#8217;ve been programming since 2001 and I am familiar with many different languages, both web-based and server-based. I love to tinker around and think of new ways to solve problems.</p>

	<p>If you wanna talk, tweet <strong><a href="http://twitter.com/kamranayub" target="_blank">@kamranayub</a></strong> or send me an email at my <strong>full name</strong> at <strong>gmail.com</strong></p>
</section>
<section>
  	<h1>Apps</h1>

  	<ul>
  		<li><a href="http://centwiseapp.com/">Centwise</a></li>
  		<li><a href="http://wp-bowling.tumblr.com/">Bowling Calculator</a></li>
  		<li><a href="http://keeptrackofmygames.com/">Keep Track of My Games</a></li>  		
  	</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/05/01/ludum-dare-29-game-jam-success/">Ludum Dare 29 Game Jam Success!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/08/websockets-on-windows-azure/">Getting WebSockets to Work on Windows Azure</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/29/5-tips-to-improve-your-mvc-site/">5 Tips to Improve Your ASP.NET MVC Codebase</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/24/just-released-have-i-been-pwned/">Just Released: Have I Been Pwned?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/18/get-your-ci-on-with-travis-ci/">Get Your CI on With Travis CI</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/kamranayub">@kamranayub</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'kamranayub',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/104789622697290911192?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Kamran -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'kamranicus';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
